
Capitalized nouns are concepts that are described in text. 
() = not implemented yet.

The main resources that Ach So! produces are Annotated videos. 


Annotated videos are composed of Video files, Annotations, various metadata fields and Thumbnails.

Annotated videos come from four sources: 
    1) they are created on a device from a Video file created by device's recorder app. In this case the exact format of the Video file, resolution etc. depend on the device and its recorder app. This process is launched by user by 'Recording a new video'
    2) they are created from an existing Video file on device. This is launched by user from 'Add new video'.  
    2) they are rebuilt based on data retrieved from device's Local storage (SQL database). Video file itself and Thumbnails are not in the database, but in devices' media files. Database stores a reference to them. This happens whenever we are browsing local videos.
    3) they are created from a xml/json data received from server. The data contains descriptions of the Metadata, Annotations and references to Video file and Thumbnail files in the server. This happens as a result from server queries, server responds to search and browse queries by providing the xml or json and Ach So! creates Annotated video objects from them.


Video files
    Video file is a part of Annotated video.
    these are raw or packed video files that we try to operate on as high level as possible -- we don't care about their format etc. we just receive them, play them, and send them to server in a format that is device's preferred format. Video file's own metadata fields are not used. When it exists only locally, it is managed by Android's media storage and has path and id relative to that. When it is sent to server it will be processed by ClViTra / ClViTra2.0 and an URI for remote video file is returned. This will be used if local file is not available.


Metadata
    Annotated video metadata is a collection of metadata that is used by Ach So! It is limited to those fields that are both a) necessary for navigation and user interface b) make sense for user. As far as possible they should be derivative and autogenerated from recording environment and not asked from user. 

    Thumbnails
        Thumbnails (micro- and mini-) are part of video metadata.  
        Thumbnails are originally generated by Android media services and they are local path URIs. When they are received from server, they are just URIs to image files. 
        Micro thumbnails are 96x96 pixels, mini thumbnails are full-sized stills from video. Mini thumbnails are currently not used and may be removed at some point.  

    Creator
        A person/user who uploaded the video. =Username
    Genre
        Video genres are just category names to guide the expectations and creation of videos. These are pre-made categories, currently 'Site overview', 'Problem', 'Trick of trade' and 'Good work'
    Title
        Name for semantic video. A placeholder title is autogenerated.
    Qr-code
        Video can be assigned to have a Qr-code. Qr-code can be any code read from the surrounding environment. When such code is later read, it points back to those videos that have the code assigned to them.    
    Location
        Videos have their location stored, if the recording device has location services enabled. Location is stored with three values: latitude, longitude and accuracy. Accuracy is the estimated accuracy of the positioning. This can be used to find videos nearby
    Creation time
        Videos store when they were created. The main use for this information is for sorting lists of videos.
    Duration
        Videos need to store their duration, detecting it from video stream would be too costly.
    Key
        Video key is randomly generated UID that ties together Video files, Thumbnail image files Metadata object and annotations. It should be invisible to users, though it is used in URLs.  
    (Communities)
        List of Community -names. Video is visible and can be annotated for listed communities. 

(Community)
    A collection of Usernames. If Username is in community, it can access videos marked for that community. There should be a way for users to join communities or ask to be added to community. There should be a 'Public' community, where everyone is member and options to browse videos by specific community. Otherwise videos are shown from all communities where User is a member.

Annotations
    Video can have several annotations at different timepoints. Annotations are created when viewing video by add annotation button, or by long pressing on position in video still. Annotations can be just markers or they can have marker and text. Other annotation possibilities may be added later. Drawing and voice recordings are suggested several times by users.  Annotation is defined as:

Annotation 
    Text
        Annotation text. Shown at the bottom of the video screen. Should be short, 1 sentence.
    Location
        Relative location (x% y% of screen size) of annotation marker in video screen.
    Start time
        A position in video's duration when annotation is visible. Annotations currently don't have duration, they are points in time. Video playback is paused instead.
    Scale
        The size of annotation marker can be changed to suggest items deeper in the screen or larger area of interest. 
    Creator
        If several people have annotated the same video, annotations can have different colors or only some of the annotations can be displayed based on the creator. =Username
User
    Username
    .password
    authkey

